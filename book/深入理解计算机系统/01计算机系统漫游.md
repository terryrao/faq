# 计算机系统漫游

#1.7 操作系统管理硬件
所有应用程序对硬件的操作都必须经过操作系统

操作系统的作用
1. 防止硬件被滥用
2. 使用简单的一致性来障蔽底层硬件的复杂性

实现以上功能的几个抽象
1. 进程 -> 对处理器、主存、I/O 设备的抽象
2. 文件 -> 对 I/O 设备的抽象
3. 虚拟存储器 -> 对主存和磁盘 I/O 设备的抽象

### 进程
进程是操作系统对一个正在运行的程序的一种抽象。

### 虚拟存储器
虚拟存储器是一个抽象概念，它为每个进程提供一个抽象，每个进程都单独的占有内存。每个进程看到的是一致的存储器，称为
<em>虚拟地址空间</em>。如图 ： 

![虚拟地上空间]（pic/虚拟地址空间.jpg）

在 linux 中最上方的地址是为操作系统的代码和数据保留的，对所有进程都是一样的，下方是存放用户进程定义的数据和代码。
地址是从下往上增大的

- 程序代码和数据： 对于所有进程来说，代码是从同一固定地址开始的，紧接着的是和 C 全局变量相对应的数据位置
- 堆：代码与数据区之后的是运行时堆，
- 共享库：堆之后是共享库
- 栈：位于用户虚拟地址空间顶部的是用户栈，编译器用它来实现函数调用。这个区域是可伸缩的
- 内核虚拟存储器：内核总是驻留在内存中，不允许应用程序读写这个区域的内容或者直接调用内核代码定义的函数

### 文件
文件就是字节序列，所有的输入输出都可以通过使用一组称为 Unix I/O 的系统函数用读写文件的形式来实现。


## 网络通信


## 重要主题

### 并发与并行

- 并发：同一时间有多个活动的系统
- 并行：用并发使一个系统运行的更快

#### 线程级并发

超线程(hyperthreading) 有时也称同时多线程(simultaneous multi-threading),是一项一个 CPU执行多个控制流
的技术。超线程的处理器可以 在单个周期的基础上决定要执行哪个线程，能更好的利用资源。

#### 指令级迸发

CPU同时执行多条指令的属性，称为指令级并发。如果处理器可以达到比一个周期一条指令更快的执行速率，称之为超标量(superscalar)
处理器

#### 单指令 多数据并行
允许一条指令产生多个可以并行执行的操作，这种方式称这为单指令、多数据，即 SIMD 并行。主要为了提高影像、声音、视频数据的
执行速度

### 抽象的重要性
指令集提供了对实际处理器硬件的抽象。
虚拟机：提供了对整个计算机的抽象

