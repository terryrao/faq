# 虚拟机字节码执行引擎
## 单分派与多分派
方法的接收者与方法的参数统称为方法的宗量。
### 单分派
一个宗量对目标方法进行选择;
运行阶段只查看调用者，因此是单分派

### 多分派
多于一个宗量对目标方法进行选择
静态分派首先要检查方法的接收者，其次要检查参数，属于多分派类型

由于分派十分频繁，所以需要一定的优化，虚方法表： Virtual Method Table，用此代替查找

## 动态语言支持

JSR-292 增加 java.lang.invoke 包，支持动态方法调用

reflection 与 MethodHandle 之间的区别：
- Reflection 是代码层面上的模拟， MethodHandle 是字节码层面上的模拟
- Reflection 包含了方法在 java 代码上的全面映射，MethodHandle 仅仅包含了执行该方法的相关信息
- MethodHandle 是字节码级别的模拟，因此在理论可 JVM 上在字节码上的各种优化都可以支持， Reflection 不行。

小案例，可以使用 MethodHandler 调用祖父类里的方法
### invokedynamic 指令

### 基于栈的字节码解释执行引擎
- 基于栈的指令集

优点：可移植，代码相对紧凑，编译器实现更加简单
缺点：速度慢

- 基于寄存器的指令集





